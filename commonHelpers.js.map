{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["const URL = 'https://api.thecatapi.com/v1';\nconst API_KEY =\n  'live_BmJCj1bbQvY1fEs5LpoLsVVgCc44InHNO1vjoGhmkFByGwldXWQniln4D9lplXUl';\n\nexport function fetchBreeds() {\n  return fetch(`${URL}/breeds?$api_key={API_KEY}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${URL}/images/search?api_key=${API_KEY}&breed_ids=${breedId}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport './styles.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'slim-select/styles';\nimport SlimSelect from 'slim-select';\nimport axios from 'axios';\naxios.defaults.headers.common['x-api-key'] =\n  'live_BmJCj1bbQvY1fEs5LpoLsVVgCc44InHNO1vjoGhmkFByGwldXWQniln4D9lplXUl';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nconst catInfo = document.querySelector('.cat-info');\n\nloader.classList.replace('loader', 'is-hidden');\nerror.classList.add('is-hidden');\ncatInfo.classList.add('is-hidden');\n\nlet arrBreedsId = [];\n\nfetchBreeds()\n  .then(data => {\n    data.forEach(element => {\n      arrBreedsId.push({ text: element.name, value: element.id });\n    });\n    new SlimSelect({\n      select: breedSelect,\n      data: arrBreedsId,\n    });\n  })\n  .catch(onFetchError);\n\nbreedSelect.addEventListener('change', onSelectBreed);\n\nfunction onSelectBreed(event) {\n  loader.classList.replace('is-hidden', 'loader');\n  breedSelect.classList.add('is-hidden');\n  catInfo.classList.add('is-hidden');\n  const breedId = event.currentTarget.value;\n  fetchCatByBreed(breedId)\n    .then(data => {\n      loader.classList.replace('loader', 'is-hidden');\n      breedSelect.classList.remove('is-hidden');\n      const { url, breeds } = data[0];\n\n      catInfo.innerHTML = `<div class=\"box-img\"><img src=\"${url}\" alt=\"${breeds[0].name}\" width=\"400\"/></div><div class=\"box\"><h1>${breeds[0].name}</h1><p>${breeds[0].description}</p><p><b>Temperament:</b> ${breeds[0].temperament}</p></div>`;\n      catInfo.classList.remove('is-hidden');\n    })\n    .catch(onFetchError);\n}\n\nfunction onFetchError() {\n  breedSelect.classList.remove('is-hidden');\n  loader.classList.replace('loader', 'is-hidden');\n  iziToast.error({\n    message:\n      'Oops! Something went wrong! Try reloading the page or select another cat breed!',\n    position: 'topCenter',\n  });\n}\n"],"names":["URL","API_KEY","fetchBreeds","response","fetchCatByBreed","breedId","axios","breedSelect","loader","error","catInfo","arrBreedsId","data","element","SlimSelect","onFetchError","onSelectBreed","event","url","breeds","iziToast"],"mappings":"owBAAA,MAAMA,EAAM,+BACNC,EACJ,wEAEK,SAASC,GAAc,CAC5B,OAAO,MAAM,GAAGF,6BAA+B,EAAE,KAAKG,GAAY,CAChE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAO,MACL,GAAGL,2BAA6BC,eAAqBI,GACzD,EAAI,KAAKF,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfAG,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,WAAW,EAElDF,EAAO,UAAU,QAAQ,SAAU,WAAW,EAC9CC,EAAM,UAAU,IAAI,WAAW,EAC/BC,EAAQ,UAAU,IAAI,WAAW,EAEjC,IAAIC,EAAc,CAAA,EAElBT,EAAa,EACV,KAAKU,GAAQ,CACZA,EAAK,QAAQC,GAAW,CACtBF,EAAY,KAAK,CAAE,KAAME,EAAQ,KAAM,MAAOA,EAAQ,EAAE,CAAE,CAChE,CAAK,EACD,IAAIC,EAAW,CACb,OAAQP,EACR,KAAMI,CACZ,CAAK,CACL,CAAG,EACA,MAAMI,CAAY,EAErBR,EAAY,iBAAiB,SAAUS,CAAa,EAEpD,SAASA,EAAcC,EAAO,CAC5BT,EAAO,UAAU,QAAQ,YAAa,QAAQ,EAC9CD,EAAY,UAAU,IAAI,WAAW,EACrCG,EAAQ,UAAU,IAAI,WAAW,EACjC,MAAML,EAAUY,EAAM,cAAc,MACpCb,EAAgBC,CAAO,EACpB,KAAKO,GAAQ,CACZJ,EAAO,UAAU,QAAQ,SAAU,WAAW,EAC9CD,EAAY,UAAU,OAAO,WAAW,EACxC,KAAM,CAAE,IAAAW,EAAK,OAAAC,CAAQ,EAAGP,EAAK,GAE7BF,EAAQ,UAAY,kCAAkCQ,WAAaC,EAAO,GAAG,iDAAiDA,EAAO,GAAG,eAAeA,EAAO,GAAG,yCAAyCA,EAAO,GAAG,wBACpNT,EAAQ,UAAU,OAAO,WAAW,CAC1C,CAAK,EACA,MAAMK,CAAY,CACvB,CAEA,SAASA,GAAe,CACtBR,EAAY,UAAU,OAAO,WAAW,EACxCC,EAAO,UAAU,QAAQ,SAAU,WAAW,EAC9CY,EAAS,MAAM,CACb,QACE,kFACF,SAAU,WACd,CAAG,CACH"}